<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>è¯æ¡åŠ è½½ä¸­ - æœæ¢—</title>
    <meta name="description" content="æ­£åœ¨ä¸ºä½ è§£ç æœ€æ–°çš„ç½‘ç»œæµè¡Œè¯­å«ä¹‰åŠå‡ºå¤„ã€‚">
    <meta property="og:type" content="article">
    <meta property="og:site_name" content="æœæ¢— SOUGENG">
    <link rel="canonical" href="https://sougeng.com/">
    
    <style>
        :root {
            --primary: #ff4757;
            --secondary: #5352ed;
            --bg: #f0f2f5;
            --card: #ffffff;
            --text: #1c1c1e; /* iOS å…¸å‹æ·±è‰²æ–‡å­— */
            --text-light: #8e8e93; /* iOS å…¸å‹ç°è‰²æ–‡å­— */
            --ios-gray: #f2f2f7;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "SF Pro Text", "Helvetica Neue", Arial, sans-serif;
            margin: 0;
            background-color: var(--bg);
            color: var(--text);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
            -webkit-font-smoothing: antialiased;
        }

        /* å¤´éƒ¨ï¼šä¿æŒé¦–é¡µçš„é€šé€æ¸å˜ */
        header {
            background: linear-gradient(135deg, #6c5ce7, #a29bfe);
            padding: 5rem 1rem 6.5rem;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }

        header::after {
            content: "";
            position: absolute;
            bottom: -50px;
            left: 0;
            right: 0;
            height: 100px;
            background: var(--bg);
            border-radius: 50% 50% 0 0;
        }

        .back-btn {
            position: absolute;
            top: 25px;
            left: 20px;
            z-index: 100;
            color: white;
            text-decoration: none;
            background: rgba(255,255,255,0.2);
            padding: 10px 20px;
            border-radius: 50px;
            backdrop-filter: blur(15px);
            -webkit-backdrop-filter: blur(15px);
            font-size: 0.9rem;
            font-weight: 600;
            transition: 0.3s;
        }

        .back-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateX(-3px);
        }

        header h1 {
            font-size: 2.8rem;
            margin: 0;
            font-weight: 800;
            letter-spacing: -1px;
            text-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }

        .category-tag {
            display: inline-block;
            margin-top: 15px;
            background: var(--primary);
            padding: 6px 18px;
            border-radius: 50px;
            font-size: 0.85rem;
            font-weight: 700;
            box-shadow: 0 6px 18px rgba(255, 71, 87, 0.35);
        }

        /* ä¸»ä½“å†…å®¹å¡ç‰‡ (iOS é£æ ¼å¾®è°ƒ) */
        main {
            flex: 1;
            max-width: 720px;
            margin: -4rem auto 4rem;
            padding: 0 1.2rem;
            width: 100%;
            box-sizing: border-box;
            z-index: 20;
        }

        .detail-card {
            background: var(--card);
            border-radius: 35px; /* iOS å¤§åœ†è§’ */
            padding: 40px;
            box-shadow: 0 25px 55px rgba(0,0,0,0.06);
            border: 1px solid rgba(255,255,255,0.7);
        }

        .info-section {
            margin-bottom: 35px;
        }

        .info-section h3 {
            color: var(--secondary);
            font-size: 1.1rem;
            margin-bottom: 18px;
            display: flex;
            align-items: center;
            font-weight: 700;
            letter-spacing: 0.5px;
        }

        .info-section h3::before {
            content: "";
            width: 4px;
            height: 18px;
            background: var(--primary);
            margin-right: 12px;
            border-radius: 10px;
        }

        .desc-text {
            font-size: 1.2rem;
            line-height: 1.75;
            color: var(--text);
            white-space: pre-wrap;
            font-weight: 400;
        }

        /* æ•°æ®ç»Ÿè®¡æ¡ (iOS åˆ—è¡¨æ„Ÿ) */
        .stats-bar {
            display: flex;
            gap: 15px;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 1px solid var(--ios-gray);
        }

        .stat-item {
            flex: 1;
            background: var(--ios-gray);
            padding: 16px;
            border-radius: 20px;
            text-align: center;
            transition: transform 0.2s;
        }

        .stat-label {
            display: block;
            font-size: 0.75rem;
            color: var(--text-light);
            margin-bottom: 6px;
            font-weight: 600;
            text-transform: uppercase;
        }

        .stat-value {
            font-weight: 800;
            color: var(--secondary);
            font-size: 1.3rem;
            letter-spacing: -0.5px;
        }

        /* éª¨æ¶å±åŠ¨ç”»å¾®è°ƒ */
        .skeleton-text {
            height: 22px;
            background: linear-gradient(90deg, #f0f0f0 25%, #e8e8e8 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            margin-bottom: 15px;
            border-radius: 8px;
            animation: shimmer 1.5s infinite linear;
        }

        @keyframes shimmer {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }

        footer {
            background: #fff;
            padding: 3rem 1rem;
            text-align: center;
            border-top: 1px solid rgba(0,0,0,0.05);
        }

        footer p {
            color: var(--text-light);
            font-size: 0.9rem;
            margin: 5px 0;
            font-weight: 500;
        }

        @media (max-width: 600px) {
            header h1 { font-size: 2.2rem; }
            .detail-card { padding: 30px 22px; }
            .stats-bar { flex-direction: column; }
            .stat-item { padding: 12px; }
        }
    </style>
</head>
<body>

<header>
    <a href="/" class="back-btn">â† å‘ç°</a>
    <h1 id="memeTitle">...</h1>
    <div id="memeCategory" class="category-tag">åŠ è½½ä¸­</div>
</header>

<main>
    <article class="detail-card">
        <div id="loadingUI">
            <div class="skeleton-text" style="width: 30%"></div>
            <div class="skeleton-text" style="width: 100%; height: 80px;"></div>
            <div class="skeleton-text" style="width: 90%"></div>
            <div class="skeleton-text" style="width: 40%"></div>
        </div>

        <div id="contentUI" style="display: none;">
            <section class="info-section">
                <h3>è¯æ¡é‡Šä¹‰</h3>
                <div id="memeDesc" class="desc-text"></div>
            </section>

            <div class="stats-bar">
                <div class="stat-item">
                    <span class="stat-label">çƒ­åº¦æŒ‡æ•°</span>
                    <span id="memeHot" class="stat-value">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">ç™¾ç§‘ç´¢å¼•</span>
                    <span id="displayId" class="stat-value"># 0</span>
                </div>
            </div>
        </div>
    </article>
</main>

<footer>
    <p>Â© 2026 æœæ¢— SOUGENG.COM</p>
    <p style="font-size: 0.75rem; opacity: 0.5; letter-spacing: 1px;">è®©æ¯ä¸€ä¸ªæœ‰è¶£çš„æ¢—éƒ½æœ‰è¿¹å¯å¾ª</p>
</footer>

<script>
async function loadDetail() {
    // 1. ä»è·¯å¾„è§£æ ID (æ”¯æŒ /123 è¿™ç§æ ¼å¼)
    const path = window.location.pathname;
    const id = path.split('/').filter(Boolean).pop();

    if (!id || id === 'index.html' || id === '404.html') {
        showError("æœªæ‰¾åˆ°æŒ‡å®šè¯æ¡");
        return;
    }

    try {
        // ä½¿ç”¨ç›¸å¯¹è·¯å¾„è·å–æ•°æ®ï¼Œé€‚é… GitHub Pages éƒ¨ç½²ç¯å¢ƒ
        const res = await fetch('/data.json');
        if (!res.ok) throw new Error('Fetch Error');
        const data = await res.json();
        
        const meme = data.find(m => m.id.toString() === id);

        if (meme) {
            renderPage(meme);
        } else {
            showError("è¯¥è¯æ¡å°šæœªè¢«æ”¶å½•");
        }
    } catch (err) {
        showError("æœåŠ¡å™¨è¿æ¥å¤±è´¥");
    }
}

function renderPage(m) {
    // æ›´æ–°é¡µé¢å†…å®¹
    document.getElementById('memeTitle').innerText = m.title;
    document.getElementById('memeCategory').innerText = m.category || "ç½‘ç»œçƒ­æ¢—";
    document.getElementById('memeDesc').innerText = m.desc;
    document.getElementById('displayId').innerText = `# ${m.id}`;
    document.getElementById('memeHot').innerText = `${m.hot || 99} â„ƒ`;

    // --- SEO æ·±åº¦ä¼˜åŒ– ---
    const pageTitle = `${m.title}æ˜¯ä»€ä¹ˆæ¢—ï¼Ÿ${m.title}çš„æ„æ€ã€å«ä¹‰è§£æ - æœæ¢— SOUGENG`;
    const pageDesc = `${m.title}çš„æ„æ€æ˜¯ï¼š${m.desc.substring(0, 120)}... æ›´å¤šç½‘ç»œæµè¡Œè¯­è§£æå°½åœ¨æœæ¢—ç™¾ç§‘ã€‚`;
    
    document.title = pageTitle;
    
    // æ›´æ–° Description
    const metaDesc = document.querySelector('meta[name="description"]');
    if (metaDesc) metaDesc.setAttribute("content", pageDesc);
    
    // æ›´æ–° Open Graph (ç¤¾äº¤åˆ†äº«ä¼˜åŒ–)
    const ogTitle = document.querySelector('meta[property="og:title"]');
    const ogDesc = document.querySelector('meta[property="og:description"]');
    if(ogTitle) ogTitle.setAttribute("content", pageTitle);
    if(ogDesc) ogDesc.setAttribute("content", pageDesc);

    // æ›´æ–° Canonical URL
    const canonical = document.querySelector('link[rel="canonical"]');
    if(canonical) canonical.setAttribute("href", window.location.href);

    // åˆ‡æ¢ UI æ˜¾ç¤º
    document.getElementById('loadingUI').style.display = 'none';
    document.getElementById('contentUI').style.display = 'block';
}

function showError(msg) {
    document.getElementById('loadingUI').innerHTML = `
        <div style="text-align: center; padding: 40px 20px;">
            <p style="font-size: 3.5rem; margin: 0 0 15px 0;">ğŸ”</p>
            <p style="color: var(--text-light); font-weight: 600; font-size: 1.1rem;">${msg}</p>
            <a href="/" style="display: inline-block; margin-top: 20px; color: var(--secondary); text-decoration: none; font-weight: 700; border: 2px solid var(--secondary); padding: 8px 24px; border-radius: 15px;">è¿”å›é¦–é¡µæœæœçœ‹</a>
        </div>
    `;
}

// å¯åŠ¨åŠ è½½
loadDetail();
</script>

</body>
</html>
