<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>梗展示</title>
<style>
  body {
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
    margin: 0;
    padding: 0;
    background-color: #f6f8fa;
    display: flex;
    justify-content: center;
    align-items: center;
    min-height: 100vh;
    flex-direction: column;
  }

  .card {
    background-color: white;
    padding: 2rem;
    border-radius: 12px;
    box-shadow: 0 8px 24px rgba(149, 157, 165, 0.2);
    text-align: center;
    max-width: 400px;
  }

  .card h1 {
    font-size: 2rem;
    margin-bottom: 1rem;
  }

  .card p {
    font-size: 1.1rem;
    color: #586069;
  }

  .github-404 {
    font-family: "Courier New", Courier, monospace;
    color: #d73a49;
    font-size: 1.5rem;
  }

  .input-box {
    margin-bottom: 1rem;
  }

  input[type="number"] {
    padding: 0.5rem;
    font-size: 1rem;
    width: 100px;
    border-radius: 6px;
    border: 1px solid #d1d5da;
  }

  button {
    padding: 0.5rem 1rem;
    font-size: 1rem;
    margin-left: 0.5rem;
    border: none;
    border-radius: 6px;
    background-color: #28a745;
    color: white;
    cursor: pointer;
  }

  button:hover {
    background-color: #218838;
  }
</style>
</head>
<body>

<div class="card">
  <div class="input-box">
    <input id="idInput" type="number" placeholder="输入 ID">
    <button onclick="fetchMeme()">获取梗</button>
  </div>
  <div id="content"></div>
</div>

<script>
async function fetchMeme() {
  const id = document.getElementById('idInput').value;
  const contentDiv = document.getElementById('content');
  contentDiv.innerHTML = "加载中...";

  try {
    const res = await fetch('https://sougeng.com/data.json');
    if (!res.ok) throw new Error('API 请求失败');

    const data = await res.json();
    const item = data.find(d => d.id === Number(id));

    if (item) {
      // 找到内容，展示梗
      contentDiv.innerHTML = `
        <h1>${item.title}</h1>
        <p>${item.desc}</p>
      `;
    } else {
      // 未找到内容，展示 GitHub 404 风格
      contentDiv.innerHTML = `
        <pre class="github-404">
  404
  Not Found

  The requested meme with ID ${id} does not exist.
        </pre>
      `;
    }
  } catch (err) {
    contentDiv.innerHTML = `<pre class="github-404">网络错误: ${err.message}</pre>`;
  }
}
</script>

</body>
</html>
