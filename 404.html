<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
    <title>è¯æ¡åŠ è½½ä¸­ - æœæ¢— SOUGENG</title>
    <meta name="description" content="æ­£åœ¨ä¸ºä½ è§£ç æœ€æ–°çš„ç½‘ç»œæµè¡Œè¯­å«ä¹‰åŠå‡ºå¤„ã€‚">
    
    <style>
        :root {
            --primary: #ff4757;
            --secondary: #5352ed;
            --bg: #f0f2f5;
            --card: #ffffff;
            --text: #2d3436;
            --text-light: #636e72;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
            margin: 0;
            background-color: var(--bg);
            color: var(--text);
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* å¤´éƒ¨ï¼šä¿æŒé¦–é¡µçš„é€šé€æ¸å˜ */
        header {
            background: linear-gradient(135deg, #6c5ce7, #a29bfe);
            padding: 5rem 1rem 6rem;
            text-align: center;
            color: white;
            position: relative;
            overflow: hidden;
        }

        header::after {
            content: "";
            position: absolute;
            bottom: -50px;
            left: 0;
            right: 0;
            height: 100px;
            background: var(--bg);
            border-radius: 50% 50% 0 0;
        }

        .back-btn {
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 100;
            color: white;
            text-decoration: none;
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 50px;
            backdrop-filter: blur(10px);
            font-size: 0.9rem;
            font-weight: 500;
            transition: 0.3s;
        }

        .back-btn:hover {
            background: rgba(255,255,255,0.3);
            transform: translateX(-5px);
        }

        header h1 {
            font-size: 3rem;
            margin: 0;
            font-weight: 800;
            text-shadow: 0 4px 10px rgba(0,0,0,0.1);
        }

        .category-tag {
            display: inline-block;
            margin-top: 15px;
            background: var(--primary);
            padding: 5px 15px;
            border-radius: 50px;
            font-size: 0.9rem;
            font-weight: 600;
            box-shadow: 0 4px 15px rgba(255, 71, 87, 0.3);
        }

        /* ä¸»ä½“å†…å®¹å¡ç‰‡ */
        main {
            flex: 1;
            max-width: 800px;
            margin: -3rem auto 3rem;
            padding: 0 1.5rem;
            width: 100%;
            box-sizing: border-box;
            z-index: 20;
        }

        .detail-card {
            background: var(--card);
            border-radius: 30px;
            padding: 40px;
            box-shadow: 0 20px 40px rgba(0,0,0,0.05);
            border: 1px solid rgba(0,0,0,0.02);
        }

        .info-section {
            margin-bottom: 30px;
        }

        .info-section h3 {
            color: var(--secondary);
            font-size: 1.2rem;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .info-section h3::before {
            content: "";
            width: 4px;
            height: 18px;
            background: var(--primary);
            margin-right: 10px;
            border-radius: 4px;
        }

        .desc-text {
            font-size: 1.15rem;
            line-height: 1.8;
            color: var(--text);
            white-space: pre-wrap;
        }

        /* æ•°æ®ç»Ÿè®¡æ¡ */
        .stats-bar {
            display: flex;
            gap: 20px;
            margin-top: 40px;
            padding-top: 25px;
            border-top: 1px dashed #eee;
        }

        .stat-item {
            flex: 1;
            background: #f8f9fa;
            padding: 15px;
            border-radius: 15px;
            text-align: center;
        }

        .stat-label {
            display: block;
            font-size: 0.8rem;
            color: var(--text-light);
            margin-bottom: 5px;
        }

        .stat-value {
            font-weight: 800;
            color: var(--secondary);
            font-size: 1.2rem;
        }

        /* éª¨æ¶å±åŠ¨ç”» */
        .skeleton-text {
            height: 20px;
            background: #eee;
            margin-bottom: 10px;
            border-radius: 4px;
            animation: pulse 1.5s infinite;
        }

        @keyframes pulse {
            0% { opacity: 0.6; }
            50% { opacity: 1; }
            100% { opacity: 0.6; }
        }

        footer {
            background: #fff;
            padding: 3rem 1rem;
            text-align: center;
            border-top: 1px solid rgba(0,0,0,0.05);
        }

        footer p {
            color: var(--text-light);
            font-size: 0.9rem;
            margin: 5px 0;
        }

        @media (max-width: 600px) {
            header h1 { font-size: 2rem; }
            .detail-card { padding: 30px 20px; }
            .stats-bar { flex-direction: column; }
        }
    </style>
</head>
<body>

<header>
    <a href="/" class="back-btn">â† è¿”å›é¦–é¡µ</a>
    <h1 id="memeTitle">...</h1>
    <div id="memeCategory" class="category-tag">åŠ è½½ä¸­</div>
</header>

<main>
    <article class="detail-card">
        <div id="loadingUI">
            <div class="skeleton-text" style="width: 30%"></div>
            <div class="skeleton-text" style="width: 100%"></div>
            <div class="skeleton-text" style="width: 90%"></div>
            <div class="skeleton-text" style="width: 40%"></div>
        </div>

        <div id="contentUI" style="display: none;">
            <section class="info-section">
                <h3>è¯æ¡é‡Šä¹‰</h3>
                <div id="memeDesc" class="desc-text"></div>
            </section>

            <div class="stats-bar">
                <div class="stat-item">
                    <span class="stat-label">è¯æ¡ ID</span>
                    <span id="displayId" class="stat-value">#</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">çƒ­åº¦æŒ‡æ•°</span>
                    <span id="memeHot" class="stat-value">0</span>
                </div>
                <div class="stat-item">
                    <span class="stat-label">æ”¶å½•çŠ¶æ€</span>
                    <span class="stat-value" style="color: #2ed573;">å·²è®¤è¯</span>
                </div>
            </div>
        </div>
    </article>
</main>

<footer>
    <p>Â© 2026 æœæ¢— SOUGENG.COM</p>
    <p style="font-size: 0.7rem; opacity: 0.6;">è®©æ¯ä¸€ä¸ªæœ‰è¶£çš„æ¢—éƒ½æœ‰è¿¹å¯å¾ª</p>
</footer>

<script>
async function loadDetail() {
    // 1. ä»è·¯å¾„è§£æ ID (æ”¯æŒ /123 è¿™ç§æ ¼å¼)
    const path = window.location.pathname;
    const id = path.split('/').filter(Boolean).pop();

    if (!id || id === 'index.html' || id === 'detail.html') {
        showError("æœªæ‰¾åˆ°æŒ‡å®šè¯æ¡");
        return;
    }

    try {
        const res = await fetch('https://sougeng.com/data.json');
        if (!res.ok) throw new Error('Fetch Error');
        const data = await res.json();
        
        // 2. åŒ¹é…å¯¹åº” ID çš„æ•°æ®
        const meme = data.find(m => m.id.toString() === id);

        if (meme) {
            renderPage(meme);
        } else {
            showError("è¯¥è¯æ¡å°šæœªè¢«æ”¶å½•");
        }
    } catch (err) {
        showError("æœåŠ¡å™¨è¿æ¥å¤±è´¥");
    }
}

function renderPage(m) {
    // æ›´æ–°å†…å®¹æ¸²æŸ“
    document.getElementById('memeTitle').innerText = m.title;
    document.getElementById('memeCategory').innerText = m.category || "ç½‘ç»œçƒ­æ¢—";
    document.getElementById('memeDesc').innerText = m.desc;
    document.getElementById('displayId').innerText = `# ${m.id}`;
    document.getElementById('memeHot').innerText = `${m.hot || 99} â„ƒ`;

    // åŠ¨æ€ä¿®æ”¹ SEO æ ‡ç­¾
    document.title = `${m.title} æ˜¯ä»€ä¹ˆæ¢—ï¼Ÿå«ä¹‰åŠå‡ºå¤„ - æœæ¢— SOUGENG`;
    const metaDesc = document.querySelector('meta[name="description"]');
    if (metaDesc) metaDesc.setAttribute("content", `${m.title}çš„æ„æ€æ˜¯ï¼š${m.desc.substring(0, 100)}...`);

    // åˆ‡æ¢ UI
    document.getElementById('loadingUI').style.display = 'none';
    document.getElementById('contentUI').style.display = 'block';
}

function showError(msg) {
    document.getElementById('loadingUI').innerHTML = `
        <div style="text-align: center; padding: 20px;">
            <p style="font-size: 3rem;">ğŸ˜…</p>
            <p style="color: var(--text-light);">${msg}</p>
            <a href="/" style="color: var(--secondary); font-weight: bold;">è¿”å›é¦–é¡µæœç´¢</a>
        </div>
    `;
}

// æ‰§è¡ŒåŠ è½½
loadDetail();
</script>

</body>
</html>
